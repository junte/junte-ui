<button #buttonRef [type]="type" [disabled]="disabled || loading" [attr.aria-label]="ariaLabel">
  <jnt-spinner data-loading *ngIf="loading" [@appear]="loading"></jnt-spinner>
  <jnt-stack [orientation]="ui.orientation.horizontal"
             [align]="ui.align.center"
             [gutter]="ui.gutter.small">
    <jnt-icon *ngIf="!!icon && icon.position === ui.position.left"
              [@visibility]="loading  ? 'hide' : 'show'"
              [icon]="icon?.icon">
    </jnt-icon>

    <div data-text *ngIf="!!text"
         [@visibility]="loading  ? 'hide' : 'show'">
      {{text}}
    </div>

    <jnt-stack data-badges *ngIf="badges.length > 0"
               [@visibility]="loading  ? 'hide' : 'show'"
               [orientation]="ui.orientation.horizontal"
               [gutter]="ui.gutter.tiny">
      <jnt-badge data-badge *ngFor="let badge of badges"
                 [color]="badge.color"
                 [value]="badge.value"
                 [overflow]="badge.overflow"
                 [position]="ui.position.inline">
      </jnt-badge>
    </jnt-stack>

    <jnt-icon *ngIf="!!icon && icon.position === ui.position.right"
              [@visibility]="loading  ? 'hide' : 'show'"
              [icon]="icon?.icon">
    </jnt-icon>

    <div data-empty *ngIf="!icon && !badges.length && !text" [@visibility]="loading  ? 'hide' : 'show'"></div>
  </jnt-stack>
</button>
